#include "mainwindow.h"
#include "ui_mainwindow.h"
#include "turtle.h"
#include "genom.h"
#include "generationTools.h"
#include "treeDrawing.h"

MainWindow::MainWindow(QWidget *parent)
    : QMainWindow(parent)
    , ui(new Ui::MainWindow)
{
    ui->setupUi(this);

    double stddevForStandardRotate = 0; //7.5
    double stddevForSmallRotate = 0; //1
    double stddevForTrunkLength = 0; //0.25

    uint8_t ptr[Genom::m_size] = {155, 187, 20, 5, 5, 136, 168, 255, 236, 28, 252, 114, 31, 141, 80, 88, 248, 58, 81, 247, 32, 97, 253, 47, 172, 106, 13, 70, 135, 238, 42, 199, 123, 233, 45, 176, 81, 255, 188, 129, 216, 179, 209, 45, 19, 40, 247, 216, 25, 68, 130, 243, 32, 51, 89, 165, 239, 247, 42, 124, 0, 154, 240, 62, 18, 48, 15, 103, 209, 249, 142, 78, 185, 121, 84, 162, 8, 18, 14, 75, 87, 244, 50, 194, 121, 146, 62, 217, 38, 134, 223, 122, 58, 229, 121, 60, 249, 22, 8, 133, 208, 211, 46, 99, 130, 27, 245, 177, 74, 62, 245, 217, 43, 18, 56, 219, 106, 149, 11, 56, 117, 170, 37, 125, 179, 246, 55, 211, 55, 93, 239, 134, 61, 111, 35, 62, 73, 77, 43, 111, 110, 118, 252, 55, 13, 161, 42, 75, 80, 204, 75, 160, 200, 200, 13, 161, 237, 150, 111, 77, 114, 186, 238, 34, 40, 218, 76, 237, 132, 173, 137, 112, 219, 163, 196, 25, 96, 37, 65, 81, 51, 21, 253, 30, 118, 247, 163, 16, 207, 183, 54, 122, 219, 159, 216, 98, 209, 31, 121, 208};
    uint8_t ptr2[Genom::m_size] = {155, 187, 20, 6, 224, 136, 210, 148, 36, 68, 244, 114, 224, 141, 102, 175, 248, 58, 81, 122, 32, 129, 110, 253, 172, 68, 247, 70, 240, 15, 89, 199, 123, 233, 123, 176, 81, 56, 181, 129, 200, 179, 253, 132, 19, 201, 112, 216, 25, 181, 130, 243, 32, 51, 98, 32, 170, 247, 150, 124, 79, 131, 240, 62, 212, 48, 15, 175, 144, 249, 142, 78, 233, 94, 170, 148, 194, 18, 134, 14, 87, 244, 249, 194, 121, 146, 236, 217, 32, 134, 147, 122, 58, 229, 32, 215, 100, 57, 77, 133, 208, 211, 46, 99, 18, 102, 60, 192, 74, 52, 84, 12, 138, 70, 150, 219, 106, 149, 199, 211, 117, 138, 16, 125, 193, 246, 55, 211, 124, 38, 239, 134, 96, 67, 35, 62, 73, 179, 43, 111, 103, 68, 252, 55, 13, 67, 42, 168, 80, 203, 75, 160, 179, 200, 196, 22, 237, 150, 111, 160, 114, 186, 111, 34, 40, 119, 11, 237, 71, 180, 137, 112, 219, 163, 196, 25, 63, 46, 65, 81, 51, 188, 253, 246, 118, 118, 163, 132, 207, 247, 54, 122, 118, 90, 97, 98, 209, 137, 54, 208};
    uint8_t ptr3[Genom::m_size] = {156, 242, 183, 127, 152, 77, 156, 60, 63, 241, 40, 15, 195, 204, 9, 11, 108, 178, 17, 157, 201, 166, 219, 225, 96, 250, 120, 102, 37, 106, 229, 115, 192, 118, 255, 103, 249, 23, 225, 127, 89, 22, 87, 73, 220, 53, 178, 168, 203, 155, 17, 99, 213, 222, 35, 10, 52, 122, 49, 192, 220, 69, 243, 227, 246, 35, 72, 196, 1, 0, 113, 27, 8, 182, 82, 48, 110, 93, 166, 119, 145, 220, 159, 122, 12, 222, 253, 173, 222, 213, 231, 245, 75, 199, 50, 106, 83, 19, 163, 41, 129, 85, 218, 106, 39, 100, 10, 168, 70, 205, 33, 220, 130, 134, 40, 11, 19, 31, 61, 57, 46, 121, 178, 120, 44, 98, 45, 163, 155, 220, 93, 196, 254, 245, 165, 235, 140, 19, 223, 177, 91, 124, 83, 109, 249, 172, 22, 85, 209, 148, 60, 67, 150, 240, 110, 180, 152, 64, 134, 225, 82, 235, 196, 171, 184, 108, 76, 123, 157, 152, 73, 207, 44, 13, 29, 214, 252, 18, 74, 158, 111, 195, 46, 105, 81, 134, 34, 210, 237, 127, 250, 208, 91, 71, 152, 128, 94, 124, 93, 83};
    uint8_t ptr4[Genom::m_size] = {225, 228, 249, 43, 197, 71, 36, 214, 27, 139, 10, 88, 214, 180, 240, 51, 73, 121, 136, 142, 209, 210, 217, 70, 154, 247, 158, 207, 201, 69, 85, 0, 249, 188, 3, 74, 158, 176, 73, 199, 49, 141, 125, 234, 126, 28, 167, 182, 88, 10, 44, 222, 7, 211, 206, 125, 101, 230, 175, 232, 155, 29, 75, 187, 161, 229, 10, 172, 136, 70, 108, 245, 12, 229, 70, 229, 119, 177, 21, 138, 178, 201, 234, 163, 20, 140, 202, 33, 193, 13, 76, 187, 188, 92, 114, 237, 217, 74, 116, 75, 82, 186, 155, 218, 38, 220, 105, 183, 100, 77, 253, 73, 151, 175, 67, 74, 27, 152, 222, 144, 179, 7, 141, 205, 245, 213, 139, 66, 6, 159, 210, 73, 183, 117, 155, 49, 201, 206, 235, 35, 154, 127, 30, 203, 154, 253, 185, 227, 162, 205, 228, 114, 104, 19, 1, 230, 78, 129, 27, 177, 122, 184, 253, 163, 68, 206, 89, 210, 37, 198, 71, 28, 156, 3, 41, 107, 13, 159, 160, 50, 113, 19, 157, 200, 181, 28, 221, 183, 103, 56, 19, 140, 237, 49, 161, 221, 1, 249, 171, 199};
    uint8_t ptr5[Genom::m_size] = {225, 228, 249, 43, 197, 77, 36, 214, 63, 241, 40, 15, 214, 180, 240, 51, 108, 178, 17, 142, 201, 166, 217, 225, 96, 250, 158, 207, 37, 106, 85, 115, 94, 188, 3, 103, 249, 176, 225, 199, 89, 22, 87, 234, 220, 53, 167, 182, 88, 10, 44, 99, 213, 222, 35, 125, 52, 122, 49, 232, 155, 29, 243, 187, 246, 229, 72, 172, 1, 70, 113, 27, 12, 229, 70, 48, 119, 93, 166, 119, 178, 201, 159, 122, 12, 140, 202, 33, 222, 213, 76, 245, 188, 92, 114, 106, 217, 19, 163, 41, 82, 186, 218, 106, 39, 220, 105, 183, 70, 77, 253, 220, 151, 134, 67, 74, 27, 31, 222, 57, 46, 121, 178, 120, 44, 98, 139, 66, 155, 220, 93, 73, 254, 117, 165, 49, 201, 19, 223, 35, 154, 124, 83, 109, 154, 172, 185, 85, 209, 205, 60, 114, 104, 19, 110, 230, 78, 129, 27, 225, 82, 184, 253, 163, 68, 206, 89, 123, 37, 152, 71, 207, 44, 3, 41, 214, 13, 18, 74, 50, 113, 19, 46, 200, 81, 134, 34, 183, 103, 127, 19, 140, 91, 49, 152, 221, 94, 124, 93, 83};
    Genom genom2(ptr4);
    Genom genom(ptr5);
    //genom.cross(genom2, genom);

    genom.genom(ptr);
    QDebug deb = qDebug();
    for (int i = 0; i < Genom::m_size; ++i)
        deb.nospace() << static_cast<int>(ptr[i]) << ", ";

    QPixmap pixmap;
    drawTree(pixmap, genom, stddevForStandardRotate, stddevForSmallRotate, stddevForTrunkLength);
    ui->label->setPixmap(pixmap);
}

MainWindow::~MainWindow()
{
    delete ui;
}
